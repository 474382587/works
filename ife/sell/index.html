<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>Document</title>
    <style>
        .hide{
            display: none;
        }
    
    </style>
</head>

<body>
    <div id="selections">
        <div id="container1"></div>
        <div id="container2"></div>
    </div>
    <div id="table-container">

    </div>

    <script src="checkbox.js"></script>
    <script src="sourceData.js"></script>
    <script src="filter.js"></script>
    <script src="table.js"></script>
    <script>
        const selections = document.getElementById("selections");
        const container2 = document.getElementById("container2")
        const container1 = document.getElementById("container1")
        const tables = document.getElementById("table-container")
        // 创建两个选择
        // 1 
        var product = new Checkbox(container1, [{
            value: "全部",
            name: "全部"
        }, {
            value: "手机",
            name: "手机"
        }, {
            value: "笔记本",
            name: "笔记本"
        }, {
            value: "智能音箱",
            name: "智能音箱"
        }], "product");
        var region = new Checkbox(container2, [{
            value: "全部",
            name: "全部"
        }, {
            value: "华东",
            name: "华东"
        }, {
            value: "华北",
            name: "华北"
        }, {
            value: "华南",
            name: "华南"
        }], "region");

        // initialize()
        // function initialize() {
        //     let data = sourceData;
        //     let params = {
        //         product: product.getValue(),
        //         region: region.getValue()
        //     }
        //     let filter = new Filter(data, params);
        //     console.log(filter.filterAll());
        // }
        selections.addEventListener("change", e => {
            //每当发生变化时 获取值
            let data = sourceData;
            let params = {
                product: product.getValue(),
                region: region.getValue()
            }
            // console.log(data)
            // console.log(params)
            let filter = new Filter(data, params);
            // console.log(filter);
            console.log(filter.filterAll());
            let table = new Table(filter.filterAll());
            table.createTableHead();
            tables.appendChild(table.createTable())
        })


    </script>

</body>

</html>